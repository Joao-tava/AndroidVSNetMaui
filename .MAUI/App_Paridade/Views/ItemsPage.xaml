<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="App_Paridade.Views.ItemsPage"
             Title="Lista de Itens"
             BackgroundColor="{AppThemeBinding Light={StaticResource LightBackgroundColor},
                                               Dark={StaticResource DarkBackgroundColor}}">

    <Grid Padding="10" RowDefinitions="Auto,*">

        <!-- Campo de busca (linha 0) -->
        <SearchBar Grid.Row="0"
           Placeholder="Buscar..."
           Text="{Binding SearchText, Mode=TwoWay}"
           BackgroundColor="{AppThemeBinding Light={StaticResource LightCardColor}, Dark={StaticResource DarkCardColor}}"
           TextColor="{AppThemeBinding Light={StaticResource LightTextColor}, Dark={StaticResource DarkTextColor}}"
           PlaceholderColor="{AppThemeBinding Light={StaticResource LightSecondaryTextColor}, Dark={StaticResource DarkSecondaryTextColor}}" />


        <!-- Lista de itens com rolagem nativa (linha 1) -->
        <CollectionView Grid.Row="1"
                        ItemsSource="{Binding Items}"
                        SelectionMode="Single"
                        SelectionChanged="OnSelectionChanged">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Padding="10"
                           Margin="5"
                           HasShadow="True"
                           BackgroundColor="{AppThemeBinding Light={StaticResource LightCardColor},
                                                             Dark={StaticResource DarkCardColor}}"
                           BorderColor="{AppThemeBinding Light={StaticResource LightBorderColor},
                                                          Dark={StaticResource DarkBorderColor}}">
                        <VerticalStackLayout>
                            <Label Text="{Binding Title}" 
                                   FontSize="18" 
                                   FontAttributes="Bold"
                                   TextColor="{AppThemeBinding Light={StaticResource LightTextColor},
                                                               Dark={StaticResource DarkTextColor}}" />
                        </VerticalStackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

    </Grid>
</ContentPage>
